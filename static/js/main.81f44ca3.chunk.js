(this["webpackJsonptest-expane"]=this["webpackJsonptest-expane"]||[]).push([[0],{205:function(e,t,a){"use strict";a.r(t);var s,r=a(0),c=a(84),n=a.n(c),l=(a(95),a(18)),i=a(8),d=a(1),o=function(){return Object(d.jsx)("nav",{className:"bg-gray-600",children:Object(d.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:Object(d.jsx)("div",{className:"relative flex items-center justify-between h-16",children:Object(d.jsx)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:Object(d.jsx)("div",{className:"hidden sm:block sm:ml-6",children:Object(d.jsxs)("div",{className:"flex space-x-4",children:[Object(d.jsx)(l.b,{to:"/",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-md font-medium",children:"User list"}),Object(d.jsx)(l.b,{to:"/add",className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-md font-medium",children:"Add new user"})]})})})})})})},x=a(4),j=a.n(x),p=a(20),m=a(9),b=a(14),h=a(86),u=a(209);var f,O,g,N=function(){Object(h.b)();var e=Object(u.a)("getClients",Object(m.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.request)("https://test-task.expane.pro/api/graphql",Object(b.gql)(s||(s=Object(p.a)(["query MyQuery {\n          getClients {\n            avatarUrl\n            firstName\n            id\n            lastName\n            phone\n          }\n        } "]))));case 2:return t=e.sent,a=t.getClients,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))),t=e.isLoading,a=e.error;return e.data,e.isFetching,t?"Loading...":a?"An error has occurred: "+a.message:Object(d.jsx)("div",{className:"flex flex-col",children:Object(d.jsx)("div",{className:"",children:Object(d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(d.jsx)("thead",{className:"bg-gray-50",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"avatar"}),Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"id"}),Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"first name"}),Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"last name"}),Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"phone"}),Object(d.jsxs)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[" ",Object(d.jsx)("span",{className:"sr-only",children:"Edit"})]})]})}),Object(d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.data.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",scope:"col",children:Object(d.jsx)("div",{className:"flex items-center",children:Object(d.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:Object(d.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.avatarUrl,alt:""})})})}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",scope:"col",children:Object(d.jsx)("div",{className:"text-sm text-gray-900",children:e.id})}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",scope:"col",children:Object(d.jsx)("div",{className:"text-sm text-gray-900",children:e.firstName})}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",scope:"col",children:Object(d.jsx)("div",{className:"text-sm text-gray-900",children:e.lastName})}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",scope:"col",children:e.phone}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",scope:"col",children:Object(d.jsx)(l.b,{to:"/edit/".concat(e.id),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"})})]},e.id)}))})]})})})},v=function(){return Object(d.jsx)(N,{})},y=a(12),w=a(10),k=a(56),q=a(90),U=a(40),C=a(28),$=C.a().shape({firstName:C.b().required(),lastName:C.b().required(),phone:C.b().required(),avatarUrl:C.b().required()}),L=function(e,t){var a=t.field,s=t.value;return Object(k.a)(Object(k.a)({},e),{},Object(w.a)({},a,s))},S=function(e){var t={firstName:e.user.firstName||"",lastName:e.user.lastName||"",phone:e.user.phone||"",avatarUrl:e.user.avatarUrl||""},a=Object(r.useReducer)(L,t),s=Object(y.a)(a,2),c=s[0],n=s[1],l=function(e){n({field:e.target.name,value:e.target.value})},i=c.firstName,o=c.lastName,x=c.phone,h=c.avatarUrl,u=Object(U.b)({resolver:Object(q.yupResolver)($)}),O=u.register,g=u.handleSubmit,N=u.errors,v=function(){var e=Object(m.a)(j.a.mark((function e(t){var a,s,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.phone),"https://test-task.expane.pro/api/graphql",a=new b.GraphQLClient("https://test-task.expane.pro/api/graphql",{headers:{}}),s=Object(b.gql)(f||(f=Object(p.a)(["\n    mutation MyMutation($firstName:String!,$lastName:String!,$phone:String, $avatarUrl:String) {\n      addClient(firstName:$firstName, lastName:$lastName, phone:$phone, avatarUrl:$avatarUrl) {\n        firstName\n        id\n        lastName\n        phone\n        avatarUrl\n      }\n    }\n    "]))),r={firstName:t.firstName,lastName:t.lastName,phone:t.phone,avatarUrl:t.avatarUrl},e.next=7,a.request(s,r);case 7:c=e.sent,alert(JSON.stringify(c,void 0,2));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("form",{onSubmit:g(v),children:[Object(d.jsxs)("div",{className:"max-w-xl mx-auto py-12 divide-y md:max-w-4xl",children:[Object(d.jsx)("h2",{className:"text-2xl font-bold",children:"Please fill this form"}),Object(d.jsx)("div",{className:"mt-8 max-w-md",children:Object(d.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[Object(d.jsxs)("label",{className:"block text-sm font-medium",children:[Object(d.jsx)("span",{className:"text-gray-700",children:"firstName"}),Object(d.jsx)("input",{onChange:l,value:i,name:"firstName",type:"text",className:"mt-1 block w-full bg-blue-50",placeholder:"",ref:O}),N.firstName&&Object(d.jsx)("p",{className:"font-serif text-red-600",children:N.firstName.message})]}),Object(d.jsxs)("label",{className:"block",children:[Object(d.jsx)("span",{className:"text-gray-700",children:"lastName"}),Object(d.jsx)("input",{onChange:l,value:o,name:"lastName",type:"text",className:"mt-1 block w-full bg-blue-50",placeholder:"",ref:O}),N.lastName&&Object(d.jsx)("p",{className:"font-serif text-red-600",children:N.lastName.message})]}),Object(d.jsxs)("label",{className:"block",children:[Object(d.jsx)("span",{className:"text-gray-700",children:"phone"}),Object(d.jsx)("input",{onChange:l,value:x,name:"phone",type:"text",className:"mt-1 block w-full bg-blue-50",placeholder:"",ref:O}),N.phone&&Object(d.jsx)("p",{className:"font-serif text-red-600",children:N.phone.message})]}),Object(d.jsxs)("label",{className:"block",children:[Object(d.jsx)("span",{className:"text-gray-700",children:"Avatar"}),Object(d.jsx)("input",{onChange:l,value:h,name:"avatarUrl",type:"text",className:"mt-1 block w-full bg-blue-50",placeholder:"",ref:O}),N.avatarUrl&&Object(d.jsx)("p",{className:"font-serif text-red-600",children:N.avatarUrl.message})]})]})})]}),Object(d.jsx)("input",{type:"submit"})]})},A=function(){var e=Object(i.f)().id,t=Object(u.a)("getClients",Object(m.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.request)("https://test-task.expane.pro/api/graphql",Object(b.gql)(O||(O=Object(p.a)(["query MyQuery {\n      getClients {\n        avatarUrl\n        firstName\n        id\n        lastName\n        phone\n      }\n    } "]))));case 2:return t=e.sent,a=t.getClients,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))),a=t.isLoading,s=t.error,r=t.data;if(a)return"Loading...";if(s)return"An error has occurred: "+s.message;console.log(r);var c=r.find((function(t){return t.id===e}));return Object(d.jsx)(S,{user:c})},M=function(){var e=Object(i.f)().id,t=Object(u.a)("getClients",Object(m.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.request)("https://test-task.expane.pro/api/graphql",Object(b.gql)(g||(g=Object(p.a)(["query MyQuery {\n      getClients {\n        avatarUrl\n        firstName\n        id\n        lastName\n        phone\n      }\n    } "]))));case 2:return t=e.sent,a=t.getClients,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))),a=t.isLoading,s=t.error,r=t.data;if(a)return"Loading...";if(s)return"An error has occurred: "+s.message;console.log(r);var c=r.find((function(t){return t.id===e}));return Object(d.jsx)(S,{user:c})},Q=new(a(208).a);var E=function(){return Object(d.jsx)(h.a,{client:Q,children:Object(d.jsxs)(l.a,{children:[Object(d.jsx)(o,{}),Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{exact:!0,path:"/",children:Object(d.jsx)(v,{})}),Object(d.jsx)(i.a,{path:"/add",children:Object(d.jsx)(A,{})}),Object(d.jsx)(i.a,{path:"/edit/:id",children:Object(d.jsx)(M,{})})]})]})})};n.a.render(Object(d.jsx)(E,{}),document.getElementById("root"))},95:function(e,t,a){}},[[205,1,2]]]);
//# sourceMappingURL=main.81f44ca3.chunk.js.map